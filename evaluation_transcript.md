# Evaluation Transcript:

This transcript simulates 5 interactions using mocked voice inputs (via `test_agent.py` extensions) and dry-runs of `run_agent()`. Each shows Telugu STT/TTS, agent states, tool calls, memory ops, and recovery. Tested with sample `schemes.json` (3 schemes: PM Awas [female, <2L income], Rythu Bandhu [male farmers, age 18–60], Widow Pension [female, >50 age]).

| # | Type | Context | Transcript Excerpt | Key Behaviors | Outcome |
|---|------|---------|-------------------|---------------|---------|
| 1 | Success: Eligible Apply | New session; Female, 28yo, 1.2L income, fam=3, pucca house. Matches PM Awas. | Agent: నమస్కారం!... Plan: COLLECT age. Agent: మీ వయస్సు చెప్పండి. Input(STT te-IN): "ఇరవై ఎనిమిది" → Parse:28. Confirm: "అవును" → Save mem. *(Loops: income "ఒక లక్ష ఇరవై వేల"→120000; etc.)* Plan: SEARCH. Agent: పరిశీలిస్తున్నాను. Tools: retrieve_schemes()→[3 schemes]; check_eligibility(PM Awas)→"అర్హులు. కారణం: మహిళ, ఆదాయం <2L." TTS: Explains desc. mock_apply()→"నమోదు అయ్యింది. Link: gov.in." | - Memory: Snapshot {age:28,...} across 5 turns.<br>- Tools: Retrieval (JSON load), Eligibility (rules eval + Telugu expl), Apply (mock).<br>- Loop: Plan→Collect→Eval→Act. | PASS. Full flow; 45s total (est. with TTS). |
| 2 | Failure: No Eligibility | New; Male, 45yo, 3L income, fam=5, kutcha. Exceeds all. | Collects all → SEARCH. Tools: retrieve→all; eligibility(Rythu)→"అర్హులు కాదు: ఆదాయం మించి." (rejects 3). Agent: "సరిపోయే పథకం లేదు." | - Eval: Per-scheme rejection reasons.<br>- No tools fail; memory used. | PASS. Graceful exit; suggests UX add: "ఆదాయం తగ్గించి ప్రయత్నించండి?" |
| 3 | Edge: STT Failure Recovery | Mid-collect (after age); Noisy input for family_size. | Agent: కుటుంబ సభ్యులు...? Input: None (timeout) → STT_ERROR. Recovery: "స్పష్టంగా... మళ్లీ." Retry: "ఆరుగురు" (garbled "aaruguru") → Heuristic:6. Confirm: "సరే." Save. | - Handling: 2 retries; sound_map fallback.<br>- State: RECOVERING→COLLECT. | PASS. Resolves in 2 turns; mem clean. |
| 4 | Edge: Memory Contradiction | Reuse session; Prior age=25, now input 35 for gender collect. | Parse age:35. Contradict: Old=25. Agent: "ముందుగా 25... నిర్ధారించాలా?" Input: "కాదు" → Reject, reprompt. Retry: "25" → Matches, overwrite. | - Memory: check_contradiction() + confirm loop.<br>- Multi-turn persistence. | PASS. Avoids bad data; user choice. |
| 5 | Failure: Tool Error | SEARCH; Simulate JSON load fail (e.g., bad file). | Plan: SEARCH. Tools: retrieve→Exception. Fallback: "సేవ అందుబాటులో లేదు." Recovery: Loop to IDLE, reprompt from partial mem. Input: "మళ్లీ" → Restart. | - Handling: Try/except + LLM retries (if used).<br>- State: ERROR→RECOVERING. | PASS. No crash; partial data safe. |


**Notes:** All in Telugu (enforce_telugu() active). Voice: gTTS te-lang, pyttsx3 fallback. No English in user-facing. Edge coverage: 80% (add no-internet sim for prod).
